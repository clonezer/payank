function analyze(n){var o={fullWord:n,noKarun:karunRemover(n),pattern:null,firstConsonant:null,firstConsonantGroup:null,lastConsonant:null,lastConsonantGroup:null,vowel:null,tone:null};n=karunRemover(n);var t,e=/[เ-ไ]/;t=e.test(n)?leadingVowels:tailingVowels;for(var a=0;a<t.length;a++)for(var r=0;r<firstConsonants.length;r++)for(var c=0;c<lastConsonants.length;c++){for(var s=t[a].components,p=firstConsonants[r].pattern,m=lastConsonants[c].pattern,l="^",f=0;f<s.length;f++){var u=s[f];l+="fc"==u?p:"lc"==u?m:u}var g=new RegExp(l);if(g.test(n)){o.pattern=l,o.firstConsonantGroup=firstConsonants[r].group,o.lastConsonantGroup=lastConsonants[c].group,o.vowel=t[a].name;var i=n.match(l);o.firstConsonant=getFirstConsonant(i[1]),o.tone=findTone(i[2]),o.lastConsonant=i[3];break}}return o}function getFirstConsonant(n){return"ทร"==n?"ซ":n.match("([จซศส])ร")?n.match("([จซศส])ร")[1]:n.match("([ฉสผถตขจ])([งญนมยรลว])")?"ห"+n.match("([ฉสผถตขจ])([งญนมยรลว])")[2]:n}function karunRemover(n){var o=n.replace(/([ก-ฮ])([(ิุ])?์/g,"");return o}function findTone(n){return"่"==n?"เอก":"้"==n?"โท":"๊"==n?"ตรี":"๋"==n?"จัตวา":"-"}function analyzeWord(){var n=document.getElementById("wordTextField").value,o=analyze(n),t="คำ:  "+o.fullWord+"<br>พยัญชนะ:  "+o.firstConsonant+"<br>สระ:  "+o.vowel+"<br>วรรณยุกต์:  "+o.tone+"<br>ตัวสะกด:  "+o.lastConsonantGroup,e=document.getElementById("result");null!=e&&e.parentNode.removeChild(e);var a=document.createElement("div");a.id="result",a.className="col-lg-3 col-lg-offset-4",document.getElementsByTagName("body")[0].appendChild(a);var r=document.createElement("p");r.className="text-left",a.appendChild(r),r.innerHTML=t}var tone="([่-๋])?",firstConsonants=[{pattern:"([ฉสผถตขจ][งญนมยรลว])",group:"อักษรนำ 2 พยางค์"},{pattern:"([กขคตปพ]ร)",group:"ควบกล่ำ ร"},{pattern:"([กขคปพ]ล)",group:"ควบกล้ำ ล"},{pattern:"([กขคปพ]ว)",group:"ควบกล้ำ ว"},{pattern:"(ห[งญนมยรลว])",group:"อักษรนำ ห"},{pattern:"(อย)",group:"อักษรนำ อ"},{pattern:"([จซศส]ร)",group:"ควบกล้ำไม่แท้"},{pattern:"(ทร)",group:"ควบกล้ำไม่แท้ ซ"},{pattern:"([ก-ฮ])",group:"ปกติ"}],lastConsonants=[{pattern:"$",group:"แม่ ก กา"},{pattern:"(หม)$",group:"แม่ กม"},{pattern:"(ตร)$",group:"แม่ กด"},{pattern:"(รถ)$",group:"แม่ ด"},{pattern:"([ง])$",group:"แม่ กง"},{pattern:"([ม])$",group:"แม่ กม"},{pattern:"([ย])$",group:"แม่ เกย"},{pattern:"([ว])$",group:"แม่ เกอว"},{pattern:"([นญณรลฬ])$",group:"แม่ กน"},{pattern:"([กขคฆ])$",group:"แม่ กก"},{pattern:"([ดจชซฎฏฐฑฒตถทธศษส])$",group:"แม่ กด"},{pattern:"([บปภพฟ])$",group:"แม่ กบ"}],leadingVowels=[{name:"เออ",components:["เ","fc","ิ",tone,"lc"]},{name:"เอีย",components:["เ","fc","ี",tone,"ย","lc"]},{name:"เอียะ",components:["เ","fc","ี",tone,"ยะ"]},{name:"เอือ",components:["เ","fc","ื",tone,"อ"]},{name:"เอือะ",components:["เ","fc","ื",tone,"อะ"]},{name:"เอาะ",components:["เ","fc",tone,"าะ"]},{name:"เอา",components:["เ","fc",tone,"า"]},{name:"เออ",components:["เ","fc",tone,"อ"]},{name:"เออะ",components:["เ","fc",tone,"อะ"]},{name:"เอะ",components:["เ","fc","็",tone,"lc"]},{name:"เอ",components:["เ","fc",tone,"lc"]},{name:"เอะ",components:["เ","fc",tone,"ะ"]},{name:"โอ",components:["โ","fc",tone,"lc"]},{name:"โอะ",components:["โ","fc",tone,"ะ"]},{name:"แอ",components:["แ","fc",tone,"lc"]},{name:"แอะ",components:["แ","fc",tone,"ะ"]},{name:"ไอ",components:["ไ","fc",tone,"lc"]},{name:"ใอ",components:["ใ","fc",tone,"lc"]}],tailingVowels=[{name:"อา",components:["fc",tone,"า","lc"]},{name:"อิ",components:["fc","ิ",tone,"lc"]},{name:"อี",components:["fc","ี",tone,"lc"]},{name:"อึ",components:["fc","ึ",tone,"lc"]},{name:"อือ",components:["fc","ื",tone,"lc"]},{name:"อุ",components:["fc","ุ",tone,"lc"]},{name:"อู",components:["fc","ู",tone,"lc"]},{name:"อัวะ",components:["fc","ั",tone,"วะ"]},{name:"อัว",components:["fc",tone,"ว","lc"]},{name:"อะ",components:["fc",tone,"ะ"]},{name:"อะ",components:["fc","ั",tone,"lc"]},{name:"อัว",components:["fc","ั",tone,"ว"]},{name:"อำ",components:["fc","ำ",tone]},{name:"โอะ",components:["fc",tone,"lc"]},{name:"ออ",components:["fc",tone,"อ","lc"]}];